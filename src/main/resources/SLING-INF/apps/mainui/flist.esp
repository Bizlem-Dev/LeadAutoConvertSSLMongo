<!DOCTYPE html>
<html class="no-js css-menubar" lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
  <meta name="description" content="bootstrap admin template">
  <meta name="author" content="">
  <title>List</title>
  <link rel="stylesheet" href="<%=request.getContextPath()%>/apps/global/css/bootstrap.min599c.css?v4.0.2">
  <link rel="stylesheet" href="<%=request.getContextPath()%>/apps/global/css/bootstrap-extend.min599c.css?v4.0.2">
  <link rel="stylesheet" href="<%=request.getContextPath()%>/apps/global/assets/css/site.min599c.css?v4.0.2">
  <link rel="stylesheet" href="<%=request.getContextPath()%>/apps/global/vendor/asscrollable/asScrollable.min599c.css?v4.0.2">
  <link rel="stylesheet" href="<%=request.getContextPath()%>/apps/global/vendor/switchery/switchery.min599c.css?v4.0.2">
  <link rel="stylesheet" href="<%=request.getContextPath()%>/apps/global/vendor/intro-js/introjs.min599c.css?v4.0.2">
  <link rel="stylesheet" href="<%=request.getContextPath()%>/apps/global/vendor/slidepanel/slidePanel.min599c.css?v4.0.2">
  <link rel="stylesheet" href="<%=request.getContextPath()%>/apps/global/vendor/flag-icon-css/flag-icon.min599c.css?v4.0.2">
  <link rel="stylesheet" href="<%=request.getContextPath()%>/apps/global/vendor/jquery-wizard/jquery-wizard.min599c.css?v4.0.2">
  <link rel="stylesheet" href="<%=request.getContextPath()%>/apps/global/vendor/formvalidation/formValidation.min599c.css?v4.0.2">
  <link rel="stylesheet" href="<%=request.getContextPath()%>/apps/global/fonts/web-icons/web-icons.min599c.css?v4.0.2">
  <link rel="stylesheet" href="<%=request.getContextPath()%>/apps/global/fonts/brand-icons/brand-icons.min599c.css?v4.0.2">
  
  <link rel="stylesheet" type="text/css" href="<%=request.getContextPath()%>/apps/global/css/custom.css">
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="css/custom.css">
  <!--
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="<%=request.getContextPath()%>/apps/global/js/Cookies.js"></script>
  -->
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script>
</script>
</script>
  <style type="text/css">
  .input-upload{
     margin-left:16px;
  }
  .fileUpload {
    position: relative;
    overflow: hidden;
    margin: 10px;
  }
  .fileUpload input.upload {
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    padding: 0;
    font-size: 20px;
    cursor: pointer;
    opacity: 0;
    filter: alpha(opacity=0);
  }
  .product-listing {
     background-color:#fff;
     border-radius:5px;
     box-shadow:0 2px 10px 0 rgba(138,168,230,.2);
     padding:20px;
     position:relative;
     overflow:hidden;
     display:block;
     transition:box-shadow .3s ease,-webkit-transform .3s ease;
     transition:transform .3s ease,box-shadow .3s ease;
     transition:transform .3s ease,box-shadow .3s ease,-webkit-transform .3s ease
  }
  .new-btn{
    background-color: #4dbae3;
    border-radius: 20px;
    color: #fff;
  }
  td input{
    padding-left:10px;
  }
  table tr td{
    border:1px solid #d1d1d1;
  }
  table{
    width:100% !important;
  }
  .list-table-part{
    background:#fff;
  }
</style>
</head>
<body class="animsition">
  <div class="row-fluid main-header">
    <div class="container-fluid">
      <div class="col-md-12 menubar">
	      <ul class="pt-5 m-0 pull-left"> 
	      <li><a href="<%=request.getContextPath()%>/servlet/service/ui.index"><img src="<%=request.getContextPath()%>/apps/global/assets/images/lead-auto-convert-logo.png" style="width:205px;margin-left:-60px;"></a></li>
	      <li><a href="<%=request.getContextPath()%>/servlet/service/ui.funnel" target="_blank"> Funnel</a></li>
	      <li><a href="<%=request.getContextPath()%>/servlet/service/ui.list" target="_blank"> List</a></li>
	      <li><a href="<%=request.getContextPath()%>/servlet/service/ui.statistic"> Dashboard</a></li>
	      </ul>
	      <ul class="pt-15 pull-right">
	        <li><a href="<%=request.getContextPath()%>/servlet/service/ui.configuration" target="_blank"><img src="<%=request.getContextPath()%>/apps/global/assets/images/shedule.png"> Configuration</a></li>
	        <li><a href="#" class="creat-new-campaigns-menu"> Create New Campaigns</a></li>
	      </ul>
      </div>
    </div>
  </div>
  <!-- Page -->
  <div class="page">
    <div class="page-content container-fluid">
      <div class="row">
        <div class="panel" id="exampleWizardForm">
          <div class="col-md-10 offset-md-1" style="padding:15px 0px 0px 25px;">
            <h3 class="" style="display: inline-block;">List</h3>
            <h3 class="" style="float:right;display: inline-block;"><a href="#" class="create-new-list">Create New List</a></h3>
          </div>
          <div class="col-md-10 offset-md-1 create-new-list-box" style="display:none;margin-top:30px;">
            <div class="well">
                              <div class="row">
                                <div class="col-md-12 radio-section import-contact text-center import-contact-main-section">
                                    <h5>Select/ Import/ Create the List of Leads</h5>
                                  <br>
                                  <br>
                                      <div class="radio-section text-left p-0">
                                        <label class="containers">Upload from CSV File
                                          <input type="radio" name="radio" id="radio1-section" value="csv_file_upload" checked="checked">
                                          <span class="checkmark"></span>
                                          <p>import contacts from .csv or .txt file.</p>
                                        </label>
                                      </div>
                                      <div class="radio-section text-left p-0">
                                        <label class="containers">Integrated services
                                          <input type="radio" name="radio" id="radio2" value="integrated_ervices">
                                          <span class="checkmark"></span>
                                          <p>import contacts from linkedin, facebook , salesforce and others.</p>
                                        </label>
                                      </div>
                                      <div class="radio-section text-left p-0">
                                        <label class="containers">Create New List 
                                          <input type="radio" name="radio" id="radio3" value="create_new_list">
                                          <span class="checkmark"></span>
                                          <p>Create New List or Import from Facebook, LinkedIn etc..</p>
                                        </label>
                                      </div>
                                      <div class="radio-section text-left p-0">
                                        <label class="containers">Existing List 
                                          <input type="radio" name="radio" id="radio4" value="create_from_existing_list">
                                          <span class="checkmark"></span>
                                          <p>Select your Existing List</p>
                                        </label>
                                      </div>
									  <div class="radio-section text-left p-0">
                                        <label class="containers">Merge existing lists 
                                          <input type="radio" name="radio" id="merge-existing" value="merge_existing">
                                          <span class="checkmark"></span>
                                          <p></p>
                                        </label>
                                      </div>
                                  <br>
                                </div>
                              </div>
                              <div class="row">
                                <div class="col-md-12 show-import-from-csv-file">
                                  <br>
                                  <div class="import-from-csv-file">
                                    <div class="row">
                                        <div class="col-md-12">
                                          <div class="">
                                            <div class="row upload-new-class">
											  <div class="col-md-3">
												  <h4>Import from CSV File</h4>
												  <div class="row">
													<div class="col-md-12">
													  <!--
													  <div class="m-0 fileUpload btn custom-btn btn-default new-btn">
														 <span>Upload CSV File</span>
														 <input id="uploadBtn" name="filename" type="file" class="custom-btn upload">
													  </div>
													  -->
													  <div class="m-0 fileUpload btn custom-btn btn-default new-btn">
														<span>Download Sample CSV File</span>
													    <a class="btn btn-warning btn-smT1" href="<%=request.getContextPath()%>/apps/global/assets/images/img/LeadUploadSample.csv" id="w3s">
														   <i class="fa fa-arrow-down"></i> <img src="<%=request.getContextPath()%>/apps/global/assets/images/img/dwnld_excel_icon.png" width="20px"> 
														</a>
													  </div>
													  <br/>
													  <br/>
													  <div class="m-0 fileUpload btn custom-btn btn-default new-btn">
														<span>Upload CSV File</span>
													    <form method="POST" enctype="multipart/form-data">
															 <input type="file" name="file" id="fileUploader">
														</form>
													  </div>
													  <p class="pt-3 mt-4">Acceptable File Types : .csv or .txt files </p>
												   </div>
												  </div>
											  </div>
                                              <div class="col-md-12 mt-4 pt-4">
                                                <div class="row">
                                                  <div class="col-md-4">
                                                      <div class="row">
                                                          <div class="col-md-6 radio-section">
                                                            <label class="containers">Entire List
                                                              <input type="radio" name="radio-list" id="list1" value="list1" checked="checked">
                                                              <span class="checkmark"></span>
                                                            </label>
                                                          </div>
                                                          <div class="col-md-6 radio-section">
                                                            <label class="containers">Part Of List 
                                                              <input type="radio" name="radio-list" id="list2" value="list2">
                                                              <span class="checkmark"></span>
                                                            </label>
                                                          </div>
                                                      </div>
                                                  </div>
                                                  <div class="col-md-8">
                                                      <div class="to-from-list-part-section">
                                                        <div class="row">
                                                            <div class="col-md-12 entire-list-section">
                                                              <p>Entire List</p>
															  <form id="list_form">
                                                                <div class="form-group">
                                                                  <label for="name">Name</label>
                                                                  <input type="text" class="form-control" id="csv_entire_list_name" placeholder="Enter Name">
                                                                </div>
                                                              </form>
                                                              <!-- <p><input type="checkbox" name=""> Select All</p> -->
                                                              <table class="table table-bordered" id="list-table" style="height: 170px; overflow-y: scroll; border:0px; display: block;">
															    <tbody id="csv_leads_list" style="display: table; width: 100%;">
                                                                  
                                                                </tbody>
                                                              </table>
                                                            </div>
                                                            <div class="col-md-12 part-list-section" style="display:none;">
                                                              <p>Part Of List</p>
                                                              <form id="csv_form">
                                                                <div class="form-group">
                                                                  <label for="name">Name</label>
                                                                  <input type="text" class="form-control" id="csv_part_of_list_name" placeholder="Enter Name">
                                                                </div>
                                                              </form>
                                                              <p id="csv_select_all"><input type="checkbox" name=""> Select All</p>
                                                              <table class="table table-bordered" style="height: 170px; overflow-y: scroll; border:0px; display: block;">
															    
																<thead id="part_of_leads_heading">
		                                          					
		                                                        </thead>
																
                                                                <tbody id="csv_part_of_leads_list" style="display: table; width: 100%;">
                                                                  
                                                                </tbody>
                                                              </table>
                                                            </div>
                                                        </div>
                                                      </div>
                                                  </div>
                                                </div>
                                              </div>
                                              
                                            </div>
                                          </div>
                                        </div>
                                      </div>
									<div class="row">
                                      <div class="col-md-12 text-center" style="margin-top:25px;">
                                        <button type="button" id="save_csv_lead" class="custom-btn btn btn-info funnel-next-btn">Save</button><!--custom-btn btn btn-info funnel-next-btn-->
                                        <button type="button" class="custom-btn btn btn-info funnel-next-btn">Cancel</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <br>
                              <div class="row">
                                <div class="col-md-12 up-import-from-csv-file" style="display: none;">
                                  <div class="table-section-copy-paste-file">
                                    <h4>Create New List</h4>
                                    <div class="row">
                                      <div class="col-md-6">
                                        <br>
                                        <div class="form-group">
                                          <label for="enter-the-list-name-1">Enter the List Name</label>
                                          <input type="text" class="form-control" id="enter-the-txt-list-name" placeholder="Enter the List Name">
                                        </div>
                                      </div>
									  <!--
                                      <div class="col-md-6">
                                        <br><br>
                                        <a class="btn btn-primary btn-outline custom-btn float-right add-new-row">Add New Row</a>
                                      </div>
									  -->
                                    </div>
                                    <p>Paste Subscriber Info Tab Seprated E.g akhilesh@bizlem.com	akhilesh	Yadav	9819345687	Mulund</p>
									</br>
									<textarea rows="15" cols="140">
                                                 Paste Tab Seprated Subscriber Info Here
                                    </textarea>
                                    <table class="table border create-new-list-table" style="height: 170px; overflow-y: scroll; border:0px; display: block;">
                                      <!--
									  <tbody style="display: table; width: 100%;">
									    
										
                                        <tr style="display: none;" class="append-row-tr">
                                          <td><input type="text" name="" placeholder="Email Address.." width="20"></td>
                                          <td><input type="text" name="" placeholder="First Name.."></td>
                                          <td><input type="text" name="" placeholder="Last Name.."></td>
                                          <td><input type="text" name="" placeholder="Phone Number.."></td>
                                          <td><input type="text" name="" placeholder="Address.."></td>
                                        </tr>
										<tr>
                                          <th scope="row">1</th>
                                          <td><input type="text" name="" placeholder="Email Address.." width="20"></td>
                                          <td><input type="text" name="" placeholder="First Name.."></td>
                                          <td><input type="text" name="" placeholder="Last Name.."></td>
                                          <td><input type="text" name="" placeholder="Phone Number.."></td>
                                          <td><input type="text" name="" placeholder="Address.."></td>
                                        </tr>
										-->
                                      </tbody>
									  
                                    </table>
									
									
									<div class="row">
                                      <div class="col-md-12 text-center" style="margin-top:25px;">
                                        <button type="button" id="save_txt_lead" class="custom-btn btn btn-info funnel-next-btn">Save</button>
                                        <button type="button" class="custom-btn btn btn-info funnel-next-btn">Cancel</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="row">
                                <div class="col-md-12 show-import-from-csv-file2" style="display: none;">
                                  <br>
                                  <div class="import-from-csv-file">
                                    <div class="row">
                                        <div class="col-md-12">
                                          <div class="">
                                            <div class="row upload-new-class">
                                              <div class="col-md-3">
                                                <select id="listdropbox" name="listdropbox" class="custom-btn form-control">
                                                  <option value="">Choose a List</option>
                                                </select>
                                              </div>
                                              <div class="col-md-12 mt-4 pt-4">
                                                <div class="row">
                                                  <div class="col-md-4">
                                                      <div class="row">
                                                          <div class="col-md-6 radio-section">
                                                            <label class="containers">Entire List
                                                              <input type="radio" name="radio-list1" id="list5" value="list5" checked="checked">
                                                              <span class="checkmark"></span>
                                                            </label>
                                                          </div>
                                                          <div class="col-md-6 radio-section">
                                                            <label class="containers">Part Of List 
                                                              <input type="radio" name="radio-list1" id="list6" value="list6">
                                                              <span class="checkmark"></span>
                                                            </label>
                                                          </div>
                                                      </div>
                                                  </div>
                                                  <div class="col-md-8">
                                                      <div class="to-from-list-part-section">
                                                        <div class="row">
                                                            <div class="col-md-12 entire-list-section">
                                                              <p>Entire List</p>
															  <form id="list_form">
                                                                <div class="form-group">
                                                                  <label for="name">Name</label>
                                                                  <input type="text" class="form-control" id="entire_list_name" placeholder="Enter Name">
                                                                </div>
                                                              </form>
                                                              <!-- <p><input type="checkbox" name=""> Select All</p> -->
                                                              <table class="table table-bordered" id="list-table" style="height: 170px; overflow-y: scroll; border:0px; display: block;">
															    <tbody id="leads_list" style="display: table; width: 100%;">
                                                                
																</tbody>
                                                              </table>
                                                            </div>
                                                            <div class="col-md-12 part-list-section" style="display:none;">
                                                              <p>Part Of List</p>
                                                              <form id="list_form">
                                                                <div class="form-group">
                                                                  <label for="name">Name</label>
                                                                  <input type="text" class="form-control" id="part_of_list_name" placeholder="Enter Name">
                                                                </div>
                                                              </form>
                                                              <p id="list_select_all"><input type="checkbox" name=""> Select All</p>
                                                              <table class="table table-bordered" style="height: 170px; overflow-y: scroll; border:0px; display: block;">
                                                                <tbody style="display: table; width: 100%;">
																    </tbody><tbody id="part_of_leads_list" style="display: table; width: 100%;">
		                                          					
		                                          				    </tbody>
                                                                
                                                              </table>
                                                            </div>
                                                        </div>
                                                      </div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    
                                    <div class="row">
                                      <div class="col-md-12 text-center" style="margin-top:25px;">
                                        <button type="button" id="save_list_lead" class="custom-btn btn btn-info funnel-next-btn">Save</button>
                                        <button type="button" class="custom-btn btn btn-info funnel-next-btn">Cancel</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
							  <div class="row">
                                <div class="col-md-12 show-merge-existing-list" style="display: none;">
                                  <br>
                                  <div class="import-from-csv-file">
                                    <div class="row">
                                        <div class="col-md-12">
                                          <div class="">
                                            <div class="row upload-new-class">
                                              <div class="col-md-3">
                                                <select id="mergelistdropbox1" name="mergelistdropbox" class="custom-btn form-control">
                                                  <option value="">Choose a List</option>
                                                </select>
                                              </div>
                                              <div class="col-md-3">
											    <select id="mergelistdropbox2" name="mergelistdropbox" class="custom-btn form-control">
                                                  <option value="">Choose a List</option>
                                                </select>
                                              </div>
                                              <div class="col-md-12 mt-4 pt-4">
                                                <div class="row">
                                                  
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    
                                      <div class="row">
                                        <div class="col-md-12 text-left" style="margin-top:-15px;">
										  <button type="button" id="save_list_merge" class="custom-btn btn btn-info funnel-next-btn manage-leads-existing-list-save">Merge</button>
										  <!--
                                          <button type="button" class="custom-btn btn btn-info funnel-next-btn manage-leads-existing-list-save">Merge</button>
                                          <button type="button" class="custom-btn btn btn-info funnel-next-btn">Save</button>
                                          <button type="button" class="custom-btn btn btn-info funnel-next-btn">Undo</button>
										  -->
                                        </div>
                                      </div>
                                  </div>
                                </div>
                              </div>
                            </div>
          </div>
          <div class="col-lg-12">
            <div class="panel-body">
              <form id="exampleFormContainer">
                <div class="wizard-content">
                  <div class="wizard-pane active" id="exampleAccountOne" role="tabpanel">
				  
                    <div class="product-listing " style="width: 81%; margin-left: 130px; margin-top: 20px;"  data-toggle="collapse" href="#collapseExample1" aria-expanded="false" aria-controls="collapseExample">
                      <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                          <div class="row"> 
                            <div class="col-lg-12 col-md-12 col-sm-12">
                              <span class="text-color" style="font-size: 25px; float: left;">List 1</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="container">
                      <div class="row">
                        <div class="col-md-11" style="margin-left:56px;">
                          <div class="collapse" id="collapseExample1">
                            <div class="well">
                              <div class="row">
                                  <div class="col-md-12">
                                    <h3 class="text-color">List</h3>
                                  </div>
                                  <div class="col-md-12">
                                    <div class="list-table-part">
                                      <table class="table border" style="width:100%;overflow:hidden;">
                                        <tbody>
                                          <tr>
                                            <th scope="row">1</th>
                                            <td>Email Address</td>
                                            <td>First Name</td>
                                            <td>Last Name</td>
                                            <td>Phone Number</td>
                                            <td>Address</td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
				  </div>
                  
                  <div class="wizard-pane" id="exampleBillingOne" role="tabpanel">
                    <div class="product-listing " style="width: 80%; margin-left: 135px; margin-top: 100px;">
                      <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12" style="margin-left: 55px;">
                          <div id="myGroup">
                              <button type="button" style="width: 90%" class="btn dropdown" data-toggle="collapse" data-target="#attrs" data-parent="#myGroup"><span style="float: left;"><i class="glyphicon glyphicon-chevron-right"></i> Short term compaign</span></button>
                             
                              <div class="accordion-group">
                                  <div class="collapse indent" id="attrs">
                                      <a href=""><img src="../assets/images/crop1.png" class="img-responsive" style="height: 305px; float: left;"></a>
                                      <a href=""><img src="../assets/images/crop2.jpeg" class="img-responsive" style="height: 305px; float: left;"></a>
                                  </div>    
                              </div>
                          </div>
                        </div>

                        <div class="col-lg-12 col-md-12 col-sm-12" style="margin-left: 55px; margin-top: 10px;">
                          <div id="myGroup1">
                              <button type="button" style="width: 90%" class="btn dropdown" data-toggle="collapse" data-target="#attrs1" data-parent="#myGroup"><span style="float: left;"><i class="glyphicon glyphicon-chevron-right"></i> Lead categories</span></button>
                             
                              <div class="accordion-group">
                                  <div class="collapse indent" id="attrs1">
                                      <div class="product-listing " style="width: 90%; margin-top: 10px; padding: 10px;">
                                        <div class="row">
                                          <div class="col-lg-1 col-md-1 col-sm-1">
                                            <img src="../assets/images/lead_cat/reachable.jpg" class="img-responsive" style="height: 50px;">
                                          </div>
                                          <div class="col-lg-4 col-md-4 col-sm-4">
                                            <span style="font-size: 18px; float: left;">Reachale</span>
                                          </div>
                                          <div class="col-lg-7 col-md-7 col-sm-7">
                                              <!-- Checked checkbox -->
                                            <div class="checkbox">
                                              <label>
                                               <input type="checkbox" value="" >
                                               <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                               </label>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      <div class="product-listing " style="width: 90%; margin-top: 10px; padding: 10px;">
                                        <div class="row">
                                          <div class="col-lg-1 col-md-1 col-sm-1">
                                            <img src="../assets/images/lead_cat/agre.jpg" class="img-responsive" style="height: 50px;">
                                          </div>
                                          <div class="col-lg-4 col-md-4 col-sm-4">
                                            <span style="font-size: 18px; float: left;">Agressively not interested</span>
                                          </div>
                                          <div class="col-lg-7 col-md-7 col-sm-7">
                                             <div class="checkbox">
                                              <label>
                                               <input type="checkbox" value="" >
                                               <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                               </label>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      <div class="product-listing " style="width: 90%; margin-top: 10px; padding: 10px;">
                                        <div class="row">
                                          <div class="col-lg-1 col-md-1 col-sm-1">
                                            <img src="../assets/images/lead_cat/Not_Interested.png" class="img-responsive" style="height: 50px;">
                                          </div>
                                          <div class="col-lg-4 col-md-4 col-sm-4">
                                            <span style="font-size: 18px; float: left;">Not interested</span>
                                          </div>
                                          <div class="col-lg-7 col-md-7 col-sm-7">
                                             <div class="checkbox">
                                              <label>
                                               <input type="checkbox" value="" >
                                               <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                               </label>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      <div class="product-listing " style="width: 90%; margin-top: 10px; padding: 10px;">
                                        <div class="row">
                                          <div class="col-lg-1 col-md-1 col-sm-1">
                                            <img src="../assets/images/lead_cat/Cold_Lead.png" class="img-responsive" style="height: 50px;">
                                          </div>
                                          <div class="col-lg-4 col-md-4 col-sm-4">
                                            <span style="font-size: 18px; float: left;">Interested (cold)</span>
                                          </div>
                                          <div class="col-lg-7 col-md-7 col-sm-7">
                                             <div class="checkbox">
                                              <label>
                                               <input type="checkbox" value="" >
                                               <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                               </label>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      <div class="product-listing " style="width: 90%; margin-top: 10px; padding: 10px;">
                                        <div class="row">
                                          <div class="col-lg-1 col-md-1 col-sm-1">
                                            <img src="../assets/images/lead_cat/Warm.png" class="img-responsive" style="height: 50px;">
                                          </div>
                                          <div class="col-lg-4 col-md-4 col-sm-4">
                                            <span style="font-size: 18px; float: left;">Warm</span>
                                          </div>
                                          <div class="col-lg-7 col-md-7 col-sm-7">
                                             <div class="checkbox">
                                              <label>
                                               <input type="checkbox" value="">
                                               <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                               </label>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      <div class="product-listing " style="width: 90%; margin-top: 10px; padding: 10px;">
                                        <div class="row">
                                          <div class="col-lg-1 col-md-1 col-sm-1">
                                            <img src="../assets/images/lead_cat/Hot.png" class="img-responsive" style="height: 50px;">
                                          </div>
                                          <div class="col-lg-4 col-md-4 col-sm-4">
                                            <span style="font-size: 18px; float: left;">Hot Lead</span>
                                          </div>
                                          <div class="col-lg-7 col-md-7 col-sm-7">
                                             <div class="checkbox">
                                              <label>
                                               <input type="checkbox" value="" >
                                               <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                               </label>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      <div class="product-listing " style="width: 90%; margin-top: 10px; padding: 10px;">
                                        <div class="row">
                                          <div class="col-lg-1 col-md-1 col-sm-1">
                                            <img src="../assets/images/lead_cat/ExtremlyHot.png" class="img-responsive" style="height: 50px;">
                                          </div>
                                          <div class="col-lg-4 col-md-4 col-sm-4">
                                            <span style="font-size: 18px; float: left;">Extremely hot</span>
                                          </div>
                                          <div class="col-lg-7 col-md-7 col-sm-7">
                                             <div class="checkbox">
                                              <label>
                                               <input type="checkbox" value="">
                                               <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                               </label>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      <div class="product-listing " style="width: 90%; margin-top: 10px; padding: 10px;">
                                        <div class="row">
                                          <div class="col-lg-1 col-md-1 col-sm-1">
                                            <img src="../assets/images/lead_cat/PartialInterest.png" class="img-responsive" style="height: 50px;">
                                          </div>
                                          <div class="col-lg-4 col-md-4 col-sm-4">
                                            <span style="font-size: 18px; float: left;">Partial interest</span>
                                          </div>
                                          <div class="col-lg-7 col-md-7 col-sm-7">
                                             <div class="checkbox">
                                              <label>
                                               <input type="checkbox" value="" >
                                               <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                               </label>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      <div class="product-listing " style="width: 90%; margin-top: 10px; padding: 10px;">
                                        <div class="row">
                                          <div class="col-lg-1 col-md-1 col-sm-1">
                                            <img src="../assets/images/lead_cat/ConditionalInteret.jpg" class="img-responsive" style="height: 50px;">
                                          </div>
                                          <div class="col-lg-4 col-md-4 col-sm-4">
                                            <span style="font-size: 18px; float: left;">Conditional interest</span>
                                          </div>
                                          <div class="col-lg-7 col-md-7 col-sm-7">
                                             <div class="checkbox">
                                              <label>
                                               <input type="checkbox" value="" >
                                               <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                               </label>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                  </div>
                              </div>
                          </div>    
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="wizard-buttons"><a class="btn btn-default btn-outline disabled" href="#" data-wizard="back" role="button">Back</a><a class="btn btn-primary btn-outline custom-btn float-right" href="#" data-wizard="next" role="button">Next</a><a class="btn btn-success btn-outline float-right hidden-xs-up" href="#" data-wizard="finish" role="button">Finish</a></div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
     $('#save_txt_lead').on('click', getSubscribersListFromTextArea);
	
	function getSubscribersListFromTextArea(){
	    var entire_list_name=document.getElementById("enter-the-txt-list-name").value;
			if(entire_list_name=="" || entire_list_name==null){
                alert('plz entire_list_name');
				return;
			}
				alert('entire_list_name : '+entire_list_name);
			
	    var lesdArr=[];
		var lines = $('textarea').val().split('\n');
		for(var i = 0;i < lines.length;i++){
		    var line=lines[i].trim();
		    alert("Lines : "+line);
		     // By tabs
			 
            alert(line.length);			 
			var tabs = line.split('\t');
			alert(tabs.length);
			if (line.length > 0) {
			            
						if(tabs[0].includes("@")){
						var leadObj={};
            			for(var j = 0; j < 5; j++){  
						            if(j==0){
									   if(tabs[j]==undefined){
									    leadObj['EmailAddress'] = 'NA';
									   }
									   else{
									    leadObj['EmailAddress'] = tabs[j];
									   }
									   
									}
									if(j==1){
									   //leadObj['FirstName'] = tabs[j];
									   if(tabs[j]==undefined){
									    leadObj['FirstName'] = 'NA';
									   }
									   else{
									    leadObj['FirstName'] = tabs[j];
									   }
									}
									if(j==2){
									   //leadObj['LastName'] = tabs[j];
									   if(tabs[j]==undefined){
									    leadObj['LastName'] = 'NA';
									   }
									   else{
									    leadObj['LastName'] = tabs[j];
									   }
									}
									if(j==3){
									   //leadObj['PhoneNumber'] = tabs[j];
									   if(tabs[j]==undefined){
									    leadObj['PhoneNumber'] = 'NA';
									   }
									   else{
									    leadObj['PhoneNumber'] = tabs[j];
									   }
									   
									   alert("tabs[j] : "+tabs[j]);
									}
									if(j==4){
									   //leadObj['Address'] = tabs[j];
									   if(tabs[j]==undefined){
									    leadObj['Address'] = 'NA';
									   }
									   else{
									    leadObj['Address'] = tabs[j];
									   }
						             }
						}
						lesdArr.push(leadObj);
						}
				
				
			}
			
			
			//code here using lines[i] which will give you each line
		}
		
		    	
		    var finalleadObj={};
			finalleadObj['ListName'] = entire_list_name;
			finalleadObj['ListData'] = lesdArr;
			alert(JSON.stringify(finalleadObj));
			console.log(JSON.stringify(finalleadObj));
			saveLeadData(lesdArr,entire_list_name);
	}
     //Global Variable For Displaying Subscribers List In Table
	  var entire_list_tbody="";
	  var part_of_list_tbody="";
	  
	  $('input[type=radio][name=radio]').change(function() {
		if (this.value == 'csv_file_upload') {
			alert("csv_file_upload is selected");
		}
		else if (this.value == 'integrated_ervices') {
			alert("integrated_ervices is selected");
			//alert('Hello Akhilesh: 2 '+decodeURIComponent(document.cookie));
			//var cookieValue = $.cookie("funnelName");
			//alert('cookieValue: '+cookieValue);
			//alert("remoteuser : "+$.cookie("remoteuser")+"\n"+" funnelName : "+$.cookie("funnelName")+"\n"+" fromName : "+$.cookie("fromName")+"\n"+" fromEmailAddress : "+$.cookie("fromEmailAddress"));
			/*
			alert('remoteuser: '+Cookies.get('remoteuser'));
			alert('funnelName: '+Cookies.get('funnelName'));
			alert('fromName: '+Cookies.get('fromName'));
			alert('fromEmailAddress: '+Cookies.get('fromEmailAddress'));
			*/
			/*
			Cookies.get('remoteuser');
		    Cookies.get('funnelName');
		    Cookies.get('fromName');
		    Cookies.get('fromEmailAddress');
			*/
		
		
		}else if (this.value == 'create_new_list') {
			alert("create_new_list is selected");
		}else if (this.value == 'create_from_existing_list') {
			alert("create_from_existing_list is selected");
			getSubscribersList();
		}else if (this.value == 'merge_existing') {
			alert("merge_existing is selected");
			getMergeSubscribersList();
		}else{
		    alert("You have selected something else");
		}
	});
	
	$('input[type=radio][name=radio-list1]').change(function() {
	    //alert("this.value : "+this.value);
		if (this.value == 'list5') {
			//alert("Entire List is selected");
			var e = document.getElementById("listdropbox");
			var struser = e.options[e.selectedIndex].value;
			if(struser=='Choose list'){
			    alert('Please Select List');
				document.getElementById("leads_list").innerHTML  ="";
				//return;
			}else{
			    document.getElementById("leads_list").innerHTML  =entire_list_tbody;
			}
			//getSubscribersList();
		}
		else if (this.value == 'list6') {
			//alert("Part Of List is selected part_of_leads_list");
			var e = document.getElementById("listdropbox");
			var struser = e.options[e.selectedIndex].value;
			if(struser=='Choose list'){
			    alert('Please Select List');
				document.getElementById("part_of_leads_list").innerHTML  ="";
				$( "#list_select_all" ).hide();
				$( "#list_form" ).hide();
				return;
			}else{
			    $( "#list_select_all" ).show();
				$( "#list_form" ).show();
				document.getElementById("part_of_leads_list").innerHTML  =part_of_list_tbody;
				
			}
		}else{
		    alert("You have selected something else");
		}
	});
	
	$(document).ready(function(){
		$("#listdropbox").change(function(){
		    //alert('hi : ');
			var e = document.getElementById("listdropbox");
			var list_type = $("input[name='radio-list1']:checked").val();
			var list_id = e.options[e.selectedIndex].value; 
			alert('list_id : '+list_id);
			var list="";
			if(list_id!='Choose list'){
				entire_list_tbody="<tr><th>Sr No.</th><th>EmailAddress</th><th>First Name</th><th>Last Name</th><th>Phone Number</th><th>Address</th></tr>";
				part_of_list_tbody="<tr><th>Sr No.</th><th>Select</th><th>EmailAddress</th><th>First Name</th><th>Last Name</th><th>Phone Number</th><th>Address</th></tr>";
				$.ajax({
					type : 'POST',
					dataType: 'json',
					//contentType: false, 
					url :'<%=request.getContextPath()%>/servlet/service/Searchlist.getlist_data_new',
					data: {
						   selectedlistid : list_id
						 },
					success: function (data) {
								var tbody="";
								for(var i=0;i<data.length;i++){
								   var lead_info=data[i];
									//Creating Rows for PartOf List
									part_of_list_tbody=part_of_list_tbody+"<tr id='part_of_list_leadtr"+(i+1)+"' name='part_of_list_leadtr'><td>"+(i+1)+"</td><td><input id='part_of_list_leadchk"+(i+1)+"' name='part_of_list_sub_chk_boxes' type='checkbox'/></td><td>"+lead_info.Email_Name+"</td><td>"+lead_info.Name+"</td><td>NA</td><td>NA</td><td>NA</td></tr>";
									//Creating Rows for Entire List
									entire_list_tbody=entire_list_tbody+"<tr id='entire_list_leadtr"+(i+1)+"' name='entire_list_leadtr'><td>"+(i+1)+"</td><td>"+lead_info.Email_Name+"</td><td>"+lead_info.Name+"</td><td>NA</td><td>NA</td><td>NA</td></tr>";
								}
								if (list_type == 'list5') {
									document.getElementById("leads_list").innerHTML  =entire_list_tbody;
								}
								else if (list_type == 'list6') {
								    $( "#list_select_all" ).show();
				                    $( "#list_form" ).show();
									document.getElementById("part_of_leads_list").innerHTML  =part_of_list_tbody;
								}else{
									alert("You have selected something else");
								}
							}	
					});	
				}else{
				   document.getElementById("leads_list").innerHTML  ="";
				   document.getElementById("part_of_leads_list").innerHTML  ="";
				   $( "#list_select_all" ).hide();
				   $( "#list_form" ).hide();
				
				}
		    });
		});
	
	function getSubscribersList(){
	    var remoteuser ='viki@gmail.com';
		//alert("remoteuser : "+remoteuser);
		$.ajax({
			type : 'POST',
			url :'<%=request.getContextPath()%>/servlet/service/Searchlist.listsearch',
		    data: {
			      remoteuser : remoteuser,
				 },
			success: function (dataa) {
				alert	("Searchlist.listsearch : "+dataa);
				var jsonData = JSON.parse(dataa);
				var optionMap = "";
					for(var i=0;i<jsonData.JsonArray.length;i++){
						 var array=jsonData.JsonArray[i];
						 optionMap = optionMap + "<option value="+array.List_id+">"+array.List_Name+"</option>";
					}
				    document.getElementById("listdropbox").innerHTML  = "<option>Choose list</option>" + optionMap;
				}
	    });
	}
	function getMergeSubscribersList(){
	    var remoteuser ='viki@gmail.com';
		//alert("remoteuser : "+remoteuser);
		$.ajax({
			type : 'POST',
			url :'<%=request.getContextPath()%>/servlet/service/Searchlist.listsearch',
		    data: {
			      remoteuser : remoteuser,
				 },
			success: function (dataa) {
				alert	("Searchlist.listsearch : "+dataa);
				var jsonData = JSON.parse(dataa);
				var optionMap = "";
					for(var i=0;i<jsonData.JsonArray.length;i++){
						 var array=jsonData.JsonArray[i];
						 optionMap = optionMap + "<option value="+array.List_id+">"+array.List_Name+"</option>";
					}
				    document.getElementById("mergelistdropbox1").innerHTML  = "<option>Choose list</option>" + optionMap;
					document.getElementById("mergelistdropbox2").innerHTML  = "<option>Choose list</option>" + optionMap;
				}
	    });
	}
	//save_list_merge
	$('#save_list_merge').on('click', saveMergeListLead);
	function saveMergeListLead(event)
		{   
		    //var list_type = $("input[name='radio-list1']:checked").val();
		    var e1 = document.getElementById("mergelistdropbox1");
			var mergelist1 = e1.options[e1.selectedIndex].value; 
			
			var mergelistName = e1.options[e1.selectedIndex].text; 
			//alert("mergelistName : "+mergelistName);
			//.text()
			
			var e2 = document.getElementById("mergelistdropbox2");
			var mergelist2 = e2.options[e2.selectedIndex].value; 
			
			alert('mergelist1 : '+mergelist1+'  mergelist2 : '+mergelist2);
			
			if(mergelist1!='Choose list' && mergelist2!='Choose list'){
			    if(mergelist1==mergelist2){
				  alert("You Have Selected Same List !");
				  return;
				}
			    
				$.ajax({
					type : 'POST',
					dataType: 'json',
					async:false,
					//contentType: false, 
					url :'<%=request.getContextPath()%>/servlet/service/Searchlist.getlist_data_new',
					data: {
						   selectedlistid : mergelist2
						 },
					success: function (data) {
					            
								var lesdArr=[];
								for(var i=0;i<data.length;i++){
								   var lead_info=data[i];
								   var leadObj={};
									   leadObj['EmailAddress'] = lead_info.Email_Name;
									   leadObj['FirstName'] = lead_info.Name;
									   leadObj['LastName'] = 'NA';
									   leadObj['PhoneNumber'] = 'NA';
									   leadObj['Address'] = 'NA';
								   lesdArr.push(leadObj);
								}
								var finalleadObj={};
								finalleadObj['ListId'] = mergelist1;
							    finalleadObj['ListName'] = mergelistName;
							    finalleadObj['ListData'] = lesdArr;
								alert("data : "+JSON.stringify(finalleadObj));
								saveMergeLeadData(lesdArr,mergelistName,mergelist1);
								
							}	
					});	
					
				}else{
				   alert("You have selected something else");
				    /*
				   document.getElementById("leads_list").innerHTML  ="";
				   document.getElementById("part_of_leads_list").innerHTML  ="";
				   $( "#list_select_all" ).hide();
				   $( "#list_form" ).hide();
				   */
				
				}
		}
	function saveMergeLeadData(lesdArr,listname,listid){
	            alert("saveMergeLeadData");
			    alert(JSON.stringify(lesdArr));
				//createlistPlusLead createListAndSubscribers
				//alert('listname: '+listname);
				//alert('lesdArr: '+JSON.stringify(lesdArr));
				//console.log('lesdArr: '+JSON.stringify(lesdArr));
				//Cookies.set('lesdArr',JSON.stringify(lesdArr));
				
				//alert('funnelCreationStatus: '+Cookies.get('funnelCreationStatus'));
				if(Cookies.get('funnelCreationStatus')=='Funnel Created'){
				   alert('Funnel: '+Cookies.get('funnelName')+" Created");
				}else if(Cookies.get('funnelCreationStatus')=='Funnel Exists'){
				   alert('Funnel: '+Cookies.get('funnelName')+" Exists");
				}
				//alert('remoteuser: '+Cookies.get('remoteuser'));
			    //alert('funnelName: '+Cookies.get('funnelName'));
			    //alert('fromName: '+Cookies.get('fromName'));
			    //alert('fromEmailAddress: '+Cookies.get('fromEmailAddress'));
				
				$.ajax({
			       	//url: '<%=request.getContextPath()%>/servlet/service/uidata.createLead',
					url: '<%=request.getContextPath()%>/servlet/service/createListAndSubscribers.mergeList',//createListAndSubscribers
					type: 'POST',
					async: false,
                    cache: false,
                    //timeout: 30000,
					data: {
					       jsonArr:JSON.stringify(lesdArr),
					       listname:listname,
						   list_id:listid,
						   remoteuser:Cookies.get('remoteuser'),
						   funnelName:Cookies.get('funnelName'),
						   fromName:Cookies.get('fromName'),
						   fromEmailAddress:Cookies.get('fromEmailAddress'),
					      },
					//cache: false,
					//dataType: 'json',
					//processData: false, 
					//contentType: false, 
					success: function(data)
					{   
					    alert("data: "+data);
					    var jsonData = JSON.parse(data);
						alert("data: listid"+listid);
						Cookies.set('listid',listid);
						//console.log("-------------------------subscribers start-----------------------");
						//console.log("data: "+data);
						//console.log("-------------------------subscribers edn-----------------------");
					},
					//timeout: 30000 // sets timeout to 30 seconds
					
					});
			    		
					//alert('Hello Akhilesh: ');
					
			}
  
  $('#save_list_lead').on('click', saveListLead);
	function saveListLead(event)
		{   
		    var list_type = $("input[name='radio-list1']:checked").val();
			if (list_type == 'list5') {
			    var entire_list_leadtrs=document.getElementsByName("entire_list_leadtr");
				var entire_list_name=document.getElementById("entire_list_name").value;
				if(entire_list_name=="" || entire_list_name==null){
					alert('plz entire_list_name');
					return;
				}
				alert('entire_list_name : '+entire_list_name);
				//alert(entire_list_leadtrs.length);
				
				
						var lesdArr=[];
						for(var m=0;m<entire_list_leadtrs.length;m++){
							var lead_chk_box=entire_list_leadtrs[m];
							var leadtr=document.getElementById($(lead_chk_box).attr('id').replace("part_of_list_leadchk", "part_of_list_leadtr"));
							//alert(leadtr);  
							var leadObj={};
							for(var j=0;j<leadtr.cells.length;j++){
								//alert(leadtr.cells.item(j).innerHTML);
								if(j==1){
								   leadObj['EmailAddress'] = leadtr.cells.item(1).innerHTML;
								}
								if(j==2){
								   leadObj['FirstName'] = leadtr.cells.item(2).innerHTML;
								}
								if(j==3){
								   leadObj['LastName'] = leadtr.cells.item(3).innerHTML;
								}
								if(j==4){
								   leadObj['PhoneNumber'] = leadtr.cells.item(4).innerHTML;
								}
								if(j==5){
								   leadObj['Address'] = leadtr.cells.item(5).innerHTML;
								}
							}
							lesdArr.push(leadObj);
							var finalleadObj={};
							finalleadObj['ListName'] = entire_list_name;
							finalleadObj['ListData'] = lesdArr;
							
						}
						//alert(JSON.stringify(lesdArr));
						console.log(JSON.stringify(finalleadObj));
						saveLeadData(lesdArr,entire_list_name); 
				
				
			}
			else if (list_type == 'list6') {
				var part_of_list_leadtrs=document.getElementsByName("part_of_list_leadtr");
				//alert(part_of_list_leadtrs.length);
				
				var part_of_list_name=document.getElementById("part_of_list_name").value;
				alert('part_of_list_name : '+part_of_list_name);
				
				if ($('input[name="part_of_list_sub_chk_boxes"]:checked').length == 0) {
						 alert('Please Select At Least One Lead.');
				} else {
						var lead_chk_boxes=$('input[name="part_of_list_sub_chk_boxes"]:checked');
						var lesdArr=[];
						for(var m=0;m<lead_chk_boxes.length;m++){
							var lead_chk_box=lead_chk_boxes[m];
							var leadtr=document.getElementById($(lead_chk_box).attr('id').replace("part_of_list_leadchk", "part_of_list_leadtr"));
							//alert(leadtr);  
							var leadObj={};
							for(var j=0;j<leadtr.cells.length;j++){
								//alert(leadtr.cells.item(j).innerHTML);
								if(j==2){
								   leadObj['EmailAddress'] = leadtr.cells.item(2).innerHTML;
								}
								if(j==3){
								   leadObj['FirstName'] = leadtr.cells.item(3).innerHTML;
								}
								if(j==4){
								   leadObj['LastName'] = leadtr.cells.item(4).innerHTML;
								}
								if(j==5){
								   leadObj['PhoneNumber'] = leadtr.cells.item(5).innerHTML;
								}
								if(j==6){
								   leadObj['Address'] = leadtr.cells.item(6).innerHTML;
								}
							}
							
							lesdArr.push(leadObj);
							var finalleadObj={};
							finalleadObj['ListName'] = part_of_list_name;
							finalleadObj['ListData'] = lesdArr;
							
						}
						//alert(JSON.stringify(lesdArr));
						console.log(JSON.stringify(finalleadObj));
						saveLeadData(lesdArr,part_of_list_name);  
				}
			}
		    
			
		 }
		 			
	  $('#fileUploader').on('change', uploadFile);
	    function uploadFile(event)
			{
			    event.stopPropagation(); 
				event.preventDefault(); 
				var files = event.target.files; 
				var data = new FormData();
				$.each(files, function(key, value)
				{  
				  data.append(key, value);
				});
				postFilesData(data); 
			 }
			
		function postFilesData(data)
			{
			alert("data : "+data);
			var list_type = $("input[name='radio-list']:checked").val();
			entire_list_tbody="";
            part_of_list_tbody="";
			 $.ajax({
				url: '<%=request.getContextPath()%>/servlet/service/uicsvdata',
				type: 'POST',
				data: data,
				cache: false,
				dataType: 'json',
				processData: false, 
				contentType: false, 
				success: function(data, textStatus, jqXHR)
				{
					//alert(JSON.stringify(data));
					var tbody="";
					for(var i=0;i<data.length;i++){
					   var lead_info=data[i];
					   part_of_list_tbody=part_of_list_tbody+"<tr id='csv_part_of_list_leadtr"+(i+1)+"' name='csv_part_of_list_leadtr'><td>"+(i+1)+"</td><td><input id='csv_part_of_list_leadchk"+(i+1)+"' name='csv_part_of_list_sub_chk_boxes' type='checkbox'/></td><td>"+lead_info.EmailAddress+"</td><td>"+lead_info.FirstName+"</td><td>"+lead_info.LastName+"</td><td>"+lead_info.PhoneNumber+"</td><td>"+lead_info.Address+"</td></tr>";
					   
					   entire_list_tbody=entire_list_tbody+"<tr id='csv_entire_list_leadtr"+(i+1)+"' name='csv_entire_list_leadtr'><td>"+(i+1)+"</td><td>"+lead_info.EmailAddress+"</td><td>"+lead_info.FirstName+"</td><td>"+lead_info.LastName+"</td><td>"+lead_info.PhoneNumber+"</td><td>"+lead_info.Address+"</td></tr>";
					}
					
		            if (list_type == 'list1') {
						document.getElementById("csv_leads_list").innerHTML  =entire_list_tbody;
						//getSubscribersList();
					}
					else if (list_type == 'list2') {
					     $( "#csv_select_all" ).show();
				         $( "#csv_form" ).show();
						document.getElementById("csv_part_of_leads_list").innerHTML  =part_of_list_tbody;
					}else{
						alert("You have selected something else");
					}
					//$(listdropbox).val('Choose list');
					$('[name=listdropbox]').val('Choose list');
					
					
				},
				error: function(jqXHR, textStatus, errorThrown)
				{
					console.log('ERRORS: ' + textStatus);
					alert("textStatus : "+textStatus);
					alert("ERRORS : "+data);
				}
				});
			}
	$('input[type=radio][name=radio-list]').change(function() {
	    alert("this.value : "+this.value);
		if (this.value == 'list1') {
		    if( document.getElementById("fileUploader").files.length == 0 ){
			      document.getElementById("leads_list").innerHTML  ="";
                  alert("no files selected");
            }else{
			     document.getElementById("csv_leads_list").innerHTML  =entire_list_tbody;
			}
		}
		else if (this.value == 'list2') {
		    if( document.getElementById("fileUploader").files.length == 0 ){
			      document.getElementById("csv_part_of_leads_list").innerHTML  ="";
				$( "#csv_select_all" ).hide();
				$( "#csv_form" ).hide();
                  alert("no files selected");
            }else{
			    $( "#csv_select_all" ).show();
				$( "#csv_form" ).show();
				document.getElementById("csv_part_of_leads_list").innerHTML  =part_of_list_tbody;
			}
			
		}else{
		    alert("You have selected something else");
		}
	});
	
	
	
  $('#save_csv_lead').on('click', saveLead);
	function saveLead(event)
		{   
		    var list_type = $("input[name='radio-list']:checked").val();
			if (list_type == 'list1') {
			    var entire_list_leadtrs=document.getElementsByName("csv_entire_list_leadtr");
				//alert(entire_list_leadtrs.length);
				
				var csv_entire_list_name=document.getElementById("csv_entire_list_name").value;
				if(csv_entire_list_name=="" || csv_entire_list_name==null){
					alert('plz entire_list_name');
					return;
				}
				alert('csv_entire_list_name : '+csv_entire_list_name);
				
				
						var lesdArr=[];
						for(var m=0;m<entire_list_leadtrs.length;m++){
							var lead_chk_box=entire_list_leadtrs[m];
							var leadtr=document.getElementById($(lead_chk_box).attr('id').replace("csv_part_of_list_leadchk", "csv_part_of_list_leadtr"));
							//alert(leadtr);  
							var leadObj={};
							for(var j=0;j<leadtr.cells.length;j++){
								//alert(leadtr.cells.item(j).innerHTML);
								if(j==1){
								   leadObj['EmailAddress'] = leadtr.cells.item(1).innerHTML;
								}
								if(j==2){
								   leadObj['FirstName'] = leadtr.cells.item(2).innerHTML;
								}
								if(j==3){
								   leadObj['LastName'] = leadtr.cells.item(3).innerHTML;
								}
								if(j==4){
								   leadObj['PhoneNumber'] = leadtr.cells.item(4).innerHTML;
								}
								if(j==5){
								   leadObj['Address'] = leadtr.cells.item(5).innerHTML;
								}
							}
							lesdArr.push(leadObj);
							var finalleadObj={};
							finalleadObj['ListName'] = csv_entire_list_name;
							finalleadObj['ListData'] = lesdArr;
							
						}
						//alert(JSON.stringify(lesdArr));
						console.log(JSON.stringify(finalleadObj));
						saveLeadData(lesdArr,csv_entire_list_name);  
				
				
			}
			else if (list_type == 'list2') {
				var part_of_list_leadtrs=document.getElementsByName("csv_part_of_list_leadtr");
				//alert(part_of_list_leadtrs.length);
				var csv_part_of_list_name=document.getElementById("csv_part_of_list_name").value;
				alert('csv_part_of_list_name : '+csv_part_of_list_name);
				
				if ($('input[name="csv_part_of_list_sub_chk_boxes"]:checked').length == 0) {
						 alert('Please Select At Least One Lead.');
				} else {
						var lead_chk_boxes=$('input[name="csv_part_of_list_sub_chk_boxes"]:checked');
						var lesdArr=[];
						for(var m=0;m<lead_chk_boxes.length;m++){
							var lead_chk_box=lead_chk_boxes[m];
							var leadtr=document.getElementById($(lead_chk_box).attr('id').replace("csv_part_of_list_leadchk", "csv_part_of_list_leadtr"));
							//alert(leadtr);  
							var leadObj={};
							for(var j=0;j<leadtr.cells.length;j++){
								//alert(leadtr.cells.item(j).innerHTML);
								if(j==2){
								   leadObj['EmailAddress'] = leadtr.cells.item(2).innerHTML;
								}
								if(j==3){
								   leadObj['FirstName'] = leadtr.cells.item(3).innerHTML;
								}
								if(j==4){
								   leadObj['LastName'] = leadtr.cells.item(4).innerHTML;
								}
								if(j==5){
								   leadObj['PhoneNumber'] = leadtr.cells.item(5).innerHTML;
								}
								if(j==6){
								   leadObj['Address'] = leadtr.cells.item(6).innerHTML;
								}
							}
							lesdArr.push(leadObj);
							var finalleadObj={};
							finalleadObj['ListName'] = csv_part_of_list_name;
							finalleadObj['ListData'] = lesdArr;
							
						}
						//alert(JSON.stringify(lesdArr));
						console.log(JSON.stringify(finalleadObj));
						saveLeadData(lesdArr,csv_part_of_list_name);
				}
			}
		    
			
		 }
		 
		 
	
	 function saveLeadData(lesdArr,listname){
			    //alert(JSON.stringify(lesdArr));
				//createlistPlusLead createListAndSubscribers
				//alert('listname: '+listname);
				//alert('lesdArr: '+JSON.stringify(lesdArr));
				//console.log('lesdArr: '+JSON.stringify(lesdArr));
				//Cookies.set('lesdArr',JSON.stringify(lesdArr));
				
				//alert('funnelCreationStatus: '+Cookies.get('funnelCreationStatus'));
				/*
				if(Cookies.get('funnelCreationStatus')=='Funnel Created'){
				   alert('Funnel: '+Cookies.get('funnelName')+" Created");
				}else if(Cookies.get('funnelCreationStatus')=='Funnel Exists'){
				   alert('Funnel: '+Cookies.get('funnelName')+" Exists");
				}
				*/
				//alert('remoteuser: '+Cookies.get('remoteuser'));
			    //alert('funnelName: '+Cookies.get('funnelName'));
			    //alert('fromName: '+Cookies.get('fromName'));
			    //alert('fromEmailAddress: '+Cookies.get('fromEmailAddress'));
				
				$.ajax({
			       	//url: '<%=request.getContextPath()%>/servlet/service/uidata.createLead',
					url: '<%=request.getContextPath()%>/servlet/service/createListAndSubscribers.createlistPlusLead',//createListAndSubscribers
					type: 'POST',
					async: false,
                    cache: false,
                    //timeout: 30000,
					data: {
					       jsonArr:JSON.stringify(lesdArr),
					       listname:listname,
						   //remoteuser:Cookies.get('remoteuser'),
						   //funnelName:Cookies.get('funnelName'),
						   //fromName:Cookies.get('fromName'),
						   //fromEmailAddress:Cookies.get('fromEmailAddress'),
					      },
					//cache: false,
					//dataType: 'json',
					//processData: false, 
					//contentType: false, 
					success: function(data)
					{
					    var jsonData = JSON.parse(data);
						alert("data: listid"+jsonData.listid);
						Cookies.set('listid',jsonData.listid);
						//console.log("-------------------------subscribers start-----------------------");
						//console.log("data: "+data);
						//console.log("-------------------------subscribers edn-----------------------");
						getSubscribersListDetails();
						$('.create-new-list-box').slideUp(); 
						
					},
					//timeout: 30000 // sets timeout to 30 seconds
					
					});
			    		
					//alert('Hello Akhilesh: ');
					
			}
  
    $(document).ready(function(){
  	  getSubscribersListDetails();
	  //$('.create-new-list-box').slideUp(); 
	});
	
	function getSubscribersListDetails(){
			var remoteuser ='viki@gmail.com';
			alert("remoteuser : "+remoteuser);
			$.ajax({
				type : 'POST',
				url :'<%=request.getContextPath()%>/servlet/service/SearchAllList',
				data: {
					  remoteuser : remoteuser,
					 },
				success: function (dataa) {
					alert	("Searchlist.listsearch : "+dataa);
					//console.log("Searchlist.listsearch : "+dataa);
					var jsonData = JSON.parse(dataa);
					var optionMap = "";
					var List_id = "";
					var List_Name = "";
					var List_Subscribers;
					
					var list_heading="";
					var subscriber_list_heading='<tr><th scope="row">0</th><td>Email Address</td><td>First Name</td><td>Last Name</td><td>Phone Number</td><td>Address</td></tr>';
					var table_body_end_tag='</tbody></table></div></div></div></div></div></div></div></div>';
					var final_inner_html="";
						for(var i=0;i<jsonData.JsonArray.length;i++){
							 var lisd_json_obj=jsonData.JsonArray[i];
							 List_id=lisd_json_obj.List_id;
							 List_Name=lisd_json_obj.List_Name;
							 List_Subscribers=lisd_json_obj.List_Subscribers;
							 list_heading='<div class="product-listing " style="width: 81%; margin-left: 130px; margin-top: 20px;"  data-toggle="collapse" href="#collapseExample'+i+'" aria-expanded="false" aria-controls="collapseExample"><div class="row"><div class="col-lg-12 col-md-12 col-sm-12"><div class="row"><div class="col-lg-12 col-md-12 col-sm-12"><span class="text-color" style="font-size: 25px; float: left;">'+List_Name+'</span></div></div></div></div></div>';
							 
							 var table_body_start_tag='<div class="container"><div class="row"><div class="col-md-11" style="margin-left:56px;"><div class="collapse" id="collapseExample'+i+'"><div class="well"><div class="row"><div class="col-md-12"><h3 class="text-color">'+List_Name+'</h3></div><div class="col-md-12"><div class="list-table-part"><table class="table border" style="width:100%;overflow:hidden;"><tbody>';
							 var entire_list_tbody="";
							 for(var j=0;j<List_Subscribers.length;j++){
							     var subscriber_json_obj=List_Subscribers[j];
								 entire_list_tbody=entire_list_tbody+"<tr id='entire_list_leadtr"+(j+1)+"' name='entire_list_leadtr'><td>"+(j+1)+"</td><td>"+subscriber_json_obj.Email_Name+"</td><td>"+subscriber_json_obj.Name+"</td><td>NA</td><td>NA</td><td>NA</td></tr>";
							 }
							 var table_body=table_body_start_tag+subscriber_list_heading+entire_list_tbody+table_body_start_tag+table_body_end_tag;
							 
							 final_inner_html=final_inner_html+list_heading+table_body;
					    }
						document.getElementById("exampleAccountOne").innerHTML  = final_inner_html;
					}
			});
	}
  </script>
  <!-- <script data-cfasync="false" src="../../../cdn-cgi/scripts/d07b1474/cloudflare-static/email-decode.min.js"></script>-->
  <script src="<%=request.getContextPath()%>/apps/global/vendor/babel-external-helpers/babel-external-helpers599c.js?v4.0.2"></script> 
  <script src="<%=request.getContextPath()%>/apps/global/vendor/jquery/jquery.min599c.js?v4.0.2"></script>
  <script src="<%=request.getContextPath()%>/apps/global/vendor/popper-js/umd/popper.min599c.js?v4.0.2"></script>
  <script src="<%=request.getContextPath()%>/apps/global/vendor/bootstrap/bootstrap.min599c.js?v4.0.2"></script>
  <script src="<%=request.getContextPath()%>/apps/global/vendor/asscrollbar/jquery-asScrollbar.min599c.js?v4.0.2"></script>
  <script src="<%=request.getContextPath()%>/apps/global/vendor/formvalidation/formValidation.min599c.js?v4.0.2"></script>
  <script src="<%=request.getContextPath()%>/apps/global/vendor/jquery-wizard/jquery-wizard.min599c.js?v4.0.2"></script>
  <script src="<%=request.getContextPath()%>/apps/global/js/Plugin.min599c.js?v4.0.2"></script>
  <script src="<%=request.getContextPath()%>/apps/global/js/Config.min599c.js?v4.0.2"></script>
  <script src="<%=request.getContextPath()%>/apps/global/js/Plugin/jquery-wizard.min599c.js?v4.0.2"></script>
  <script src="<%=request.getContextPath()%>/apps/global/assets/examples/js/forms/wizard.min599c.js?v4.0.2"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
  
  <script src="<%=request.getContextPath()%>/apps/global/js/custom.js"></script>
  <!-- 
  <script src="<%=request.getContextPath()%>/apps/global/js/Cookies.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  -->
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
</body>
</html>